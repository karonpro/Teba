{% extends 'base.html' %}
{% block content %}
<div class="card p-4 shadow-sm rounded-4">
    <h3 class="mb-4">Transaction Details</h3>

    <div class="row g-3 mb-3">
        <div class="col-md-3">
            <label class="form-label">Date</label>
            <input type="text" class="form-control bg-light" value="{{ transaction.date }}" readonly>
        </div>
        <div class="col-md-3">
            <label class="form-label">Location</label>
            <input type="text" class="form-control bg-light" value="{{ transaction.location.name|default:'-' }}" readonly>
        </div>
        <div class="col-md-3">
            <label class="form-label">Opening Balance</label>
            <input type="text" class="form-control bg-light" value="{{ transaction.opening_balance|default:0 }}" readonly>
        </div>
        <div class="col-md-3">
            <label class="form-label">Customer Balance</label>
            <input type="text" class="form-control bg-light" value="{{ transaction.customer_balance|default:0 }}" readonly>
        </div>
    </div>

    <div class="row g-3 mb-3">
        <div class="col-md-3">
            <label class="form-label">Paid</label>
            <input type="text" class="form-control bg-light" value="{{ transaction.paid|default:0 }}" readonly>
        </div>
        <div class="col-md-3">
            <label class="form-label">Wholesale</label>
            <input type="text" class="form-control bg-light" value="{{ transaction.wholesale|default:0 }}" readonly>
        </div>
        <div class="col-md-3">
            <label class="form-label">Debt</label>
            <input type="text" class="form-control bg-light" value="{{ transaction.debt|default:0 }}" readonly>
        </div>
        <div class="col-md-3">
            <label class="form-label">Cash</label>
            <input type="text" class="form-control bg-light" value="{{ transaction.cash|default:0 }}" readonly>
        </div>
    </div>

    <div class="row g-3 mb-3">
        <div class="col-md-3">
            <label class="form-label">Accounts</label>
            <input type="text" class="form-control bg-light" value="{{ transaction.accounts|default:0 }}" readonly>
        </div>
        <div class="col-md-3">
            <label class="form-label">Expenses</label>
            <input type="text" class="form-control bg-light" value="{{ transaction.expenses|default:0 }}" readonly>
        </div>
    </div>

    <div class="mt-3 mb-3">
        <label class="form-label">Notes</label>
        <textarea class="form-control bg-light" readonly>{{ transaction.notes }}</textarea>
    </div>

    <hr class="my-3">

    <h5>Computed Totals</h5>
    <div class="row g-3 mb-3">
        <div class="col-md-3">
            <label class="form-label">Total Sales</label>
            <input type="text" class="form-control bg-light" value="{{ total_sales|floatformat:2 }}" readonly>
        </div>
        <div class="col-md-3">
            <label class="form-label">Total Cashout</label>
            <input type="text" class="form-control bg-light" value="{{ total_cashout|floatformat:2 }}" readonly>
        </div>
        <div class="col-md-3">
            <label class="form-label">Difference</label>
            <input type="text" class="form-control bg-light" value="{{ difference|floatformat:2 }}" readonly>
        </div>
        <div class="col-md-3">
            <label class="form-label">Less / Excess / Balanced</label>
            <input type="text" class="form-control {{ less_excess_class }}" value="{{ less_excess_status }}" readonly>
        </div>
    </div>

    <div class="mt-4">
        <a href="{% url 'transactions:list' %}" class="btn btn-secondary btn-lg">Back to List</a>
    </div>
</div>
{% endblock %}
